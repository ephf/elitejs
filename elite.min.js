export const ed=([...t],...n)=>{const o=[];let c=!1;n.forEach((a,r)=>c?(Object.keys(a).forEach(e=>o[o.length-1].element.setAttribute(e,a[e])),c=!1):t[r]+=a.outerHTML?"<HTMLPlaceholderTag></HTMLPlaceholderTag>":a instanceof Array?(n[r]=e(["<div>",...new Array(a.length).fill(""),"</div>"],...a).children,"<HTMLPlaceholderTag></HTMLPlaceholderTag>"):a instanceof Function?(n[r]=document.createElement(a.name),o.push({f:a,element:n[r]}),":"==t[r+1]&&(c=!0),"<HTMLPlaceholderTag></HTMLPlaceholderTag>"):a);const a=t.join(""),r=n.filter(e=>e instanceof HTMLElement||e instanceof HTMLCollection),l=e=>{if([...e.attributes].forEach(({name:t,value:n})=>e[t]=n),e.children.length&&[...e.children].forEach(e=>l(e)),"HTMLPLACEHOLDERTAG"==e.tagName){if([...r[0].attributes||[]].forEach(({name:e,value:t})=>r[0][e]=t),r[0]instanceof HTMLCollection){const t=document.createDocumentFragment();return[...r.shift()].forEach(e=>t.append(e)),void e.parentNode.replaceChild(t,e)}e.parentNode.replaceChild(r.shift(),e)}},s=document.createElement("div");return s.innerHTML=a,l(s),o.forEach(({f:e,element:t})=>e.apply(t,[])),s.children.length-1?s.children:s.children[0]};export const eq=([...e],...t)=>{t.forEach((t,n)=>{e[n]=t});const n=document.querySelectorAll(e.join(""));return n.length>1?n:n[0]};export const eqa=([...e],...t)=>(t.forEach((t,n)=>{e[n]=t}),document.querySelectorAll(e.join("")));export const ef=async([...e],...t)=>new Promise(async(n,o)=>{t.forEach((t,n)=>{e[n]=t});const c=e.join("");let a=c.match(/\.(.+?)$/);if((a=a&&a[1]).match(/^(ts|js)$/))return n(await import(c));const r=new XMLHttpRequest;r.onload=(async()=>{const e=r.getResponseHeader("content-type").match(/.+?\/(.+?);/)[1];return e.match(/^(typescript|javascript)$/)?n(await import(c)):e.match(/^(html|svg)$/)?n(ed`${r.response}`):"css"==e?n(ed`<style>${r.response}</style>`):void n(r.response)}),r.open("GET",c),r.send()});export default([...e],...t)=>{t.forEach((t,n)=>{e[n]=t});const n=e.join("");return n.match(/</)||t.find(e=>e instanceof HTMLElement||e instanceof HTMLCollection||e instanceof Function)?ed(e,...t):n.match(/\.(ts|js|json|html|svg|css)$|^https?:\/\//)?ef(e,...t):eq(e,...t)};